(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{193:function(t,e,n){"use strict";n.r(e);var i,o=n(0),r=n(6);!function(t){t.Heart="heart",t.Diamond="diamond",t.Club="club",t.Spade="spade"}(i||(i={}));var s,a=function(){function t(){this.commands=[],this.undoIndex=-1}return Object.defineProperty(t.prototype,"redoIndex",{get:function(){return this.undoIndex+1},enumerable:!0,configurable:!0}),t.prototype.do=function(t){t.do(),this.undoIndex<this.commands.length-1&&this.commands.splice(this.undoIndex+1),this.commands.push(t),this.undoIndex=this.commands.length-1},t.prototype.undo=function(){this.undoIndex>=0&&(this.commands[this.undoIndex].undo(),this.undoIndex--)},t.prototype.redo=function(){this.redoIndex>=0&&this.redoIndex<this.commands.length&&(this.commands[this.redoIndex].redo(),this.undoIndex++)},t.prototype.clear=function(){this.commands=[],this.undoIndex=-1},t}(),u=function(){function t(t,e){this.src=t,this.dest=e}return t.prototype.do=function(){this.dest.push(this.src),this.src.pop()},t.prototype.undo=function(){this.src.push(this.dest),this.dest.pop()},t.prototype.redo=function(){this.do()},t}(),c=function(){function t(t,e,n,i){this.baseMoveSrc=t,this.baseMoveDest=e,this.autoMoveSrc=n,this.autoMoveDest=i,this.commands=[]}return t.prototype.do=function(){var t=this,e=new u(this.baseMoveSrc,this.baseMoveDest);e.do(),this.commands.push(e);for(var n=h(this.autoMoveSrc,this.autoMoveDest);n.length>0;)n.forEach(function(e){e.do(),t.commands.push(e)}),n=h(this.autoMoveSrc,this.autoMoveDest)},t.prototype.undo=function(){for(var t=this.commands.length-1;t>=0;t--)this.commands[t].undo()},t.prototype.redo=function(){this.commands.forEach(function(t){return t.redo()})},t}();function h(t,e){var n=[],i=function(t){var e=t.filter(function(t){return d(t.suit)}).map(function(t){return null!==t.stack.top?t.stack.top.number:1}),n=t.filter(function(t){return!d(t.suit)}).map(function(t){return null!==t.stack.top?t.stack.top.number:1}),i=Math.min.apply(Math,e),o=Math.min.apply(Math,n);return function(t){return d(t)?o:i}}(e);return t.forEach(function(t){var o=t.top;null!==o&&o.number<=i(o.suit)+1&&e.filter(function(t){return t.stack.canPush(o)}).forEach(function(e){return n.push(new u(t,e.stack))})}),n}function d(t){return t===i.Heart||t===i.Diamond}!function(t){!function(t){t.white=16711422,t.red=10048853,t.black=5592421,t.lightGrey=14540253,t.grey=6645109,t.yellow=16711406}(t.Color||(t.Color={}))}(s||(s={}));var p,l=function(){function t(){}return Object.defineProperty(t,"onComplete",{get:function(){return t.loader.onComplete},enumerable:!0,configurable:!0}),t.load=function(){["heart","diamond","club","spade","undo","redo","restart"].forEach(function(e){return t.loader.add(e,"assets/images/"+e+".png")}),t.loader.load(function(e,n){t.resources=n})},t.getTexture=function(t){return null!==this.resources&&this.resources.textures?this.resources.textures[t]:o.Texture.from("assets/images/"+t+".png")},t.loader=new o.loaders.Loader,t.resources=null,t}(),f=function(){function t(){}return t.card=function(e,n){var i=(new o.Graphics).lineStyle(1,s.Color.lightGrey,.8,1).beginFill(t.cardColor).drawRoundedRect(0,0,t.cardWidth,t.cardHeight,t.cardCornerRadius).endFill();return i.addChild(t.pattern(e,n,t.cardWidth,t.cardHeight)),i},t.pattern=function(e,n,i,r){var s=new o.Container,a=t.suit(e,35);a.x=t.midX(a,i),a.y=r-a.height-10,s.addChild(a);var u=t.suit(e,14);u.x=i-u.width-5,u.y=6,s.addChild(u);var c=v(e),h=new o.Text(function(t){if(1===t)return"A";if(11===t)return"J";if(12===t)return"Q";if(13===t)return"K";return t.toString()}(n),{fill:c,fontSize:16,fontWeight:"bold",letterSpacing:-1,dropShadow:!0,dropShadowBlur:1.5,dropShadowDistance:0,dropShadowColor:c});return h.x=5,h.y=4,s.addChild(h),s},t.suit=function(t,e,n){n||(n=v(t));var i=new o.Sprite(l.getTexture(t));return i.width=e,i.height=e,i.tint=n,i},t.cell=function(e,n){var i=(new o.Graphics).lineStyle(2,s.Color.white).drawRoundedRect(0,0,t.cardWidth,t.cardHeight,t.cardCornerRadius).endFill();return i.position.set(e,n),i},t.centering=function(e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=0),e.x=t.midX(e,n.width,i),e.y=t.midY(e,n.height,o)},t.midX=function(t,e,n){return void 0===n&&(n=0),(e-t.width)/2+n},t.midY=function(t,e,n){return void 0===n&&(n=0),(e-t.height)/2+n},t.cardWidth=50,t.cardHeight=80,t.cardCornerRadius=5,t.cardColor=s.Color.white,t}();function v(t){switch(t){case i.Heart:case i.Diamond:return s.Color.red;case i.Club:case i.Spade:return s.Color.black}}function m(t,e){return[new o.Point(e.left,e.top),new o.Point(e.left,e.bottom),new o.Point(e.right,e.top),new o.Point(e.right,e.bottom)].filter(function(e){return t.contains(e.x,e.y)}).length>0}function g(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function w(t){return Array.apply(null,Array(t))}!function(t){t[t.None=0]="None",t[t.Pre=1]="Pre",t[t.Progress=2]="Progress"}(p||(p={}));var y=function(){function t(t){this.target=t,this.onStart=function(){},this.onEnd=function(t){},this.onEndNoMove=function(){},this.state=p.None,this.data=null,this.diffX=0,this.diffY=0,this.startPos={x:0,y:0},this.target.on("pointerdown",this.start.bind(this)).on("pointermove",this.progress.bind(this)).on("pointerup",this.end.bind(this)).on("pointerupoutside",this.end.bind(this))}return t.prototype.start=function(t){this.data=t.data,this.state=p.Pre;var e=this.data.getLocalPosition(this.target.parent);this.diffX=this.target.x-e.x,this.diffY=this.target.y-e.y,this.startPos.x=this.target.x,this.startPos.y=this.target.y,this.onStart()},t.prototype.progress=function(){if(this.state!==p.None&&this.data){var t=this.data.getLocalPosition(this.target.parent);if(t.x+=this.diffX,t.y+=this.diffY,this.state===p.Pre){g(this.startPos,t)>=2&&(this.state=p.Progress)}this.state===p.Progress&&this.target.position.set(t.x,t.y)}},t.prototype.end=function(){this.state===p.Progress?this.onEnd(this.startPos):this.state===p.Pre&&this.onEndNoMove(),this.data=null,this.state=p.None},t}(),b=function(){function t(t,e,n){var i=this;this.animManager=n,this.activeAnim=[],this.prevAnimEnd=null,this.prevAnimTime=0,this.prevInteractive=!1,this.view=f.card(e.suit,e.number),this.view.x=-this.view.width,this.view.y=-this.view.height,t.addChild(this.view),this.dragger=new y(this.view),this.dragger.onStart=function(){i.toFront()}}return Object.defineProperty(t.prototype,"bounds",{get:function(){return this.view.getBounds()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interactive",{set:function(t){this.isMoving?this.prevInteractive=t:this.view.interactive=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDragEnd",{set:function(t){this.dragger.onEnd=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onTap",{set:function(t){this.dragger.onEndNoMove=t},enumerable:!0,configurable:!0}),t.prototype.moveTo=function(t,e,n){var i=this;void 0===n&&(n=1),this.prevInteractive=this.view.interactive,this.interactive=!1;var o=g({x:t,y:e},this.view),s=Math.min(Math.floor(o*n),300),a=s>0?100:0,u=new r.Tween(this.view).to({x:t,y:e},s).easing(r.Easing.Exponential.Out).onStart(function(){i.toFront()}).onComplete(function(){i.activeAnim=i.activeAnim.filter(function(t){return t!==u}),0===i.activeAnim.length&&(i.prevAnimEnd=null,i.prevAnimTime=0,i.interactive=i.prevInteractive)}),c=null===this.prevAnimEnd?this.animManager.add(u,a):this.animManager.chain(u,this.prevAnimEnd,this.prevAnimTime,a);this.prevAnimEnd=c.end,this.prevAnimTime+=c.delay+s,this.activeAnim.push(u)},Object.defineProperty(t.prototype,"isMoving",{get:function(){return this.activeAnim.length>0},enumerable:!0,configurable:!0}),t.prototype.toFront=function(){this.view.parent.addChild(this.view)},t}(),C=function(){function t(t,e,n){this.x=e,this.y=n,this.cards=[],this.view=f.cell(this.x,this.y),t.addChildAt(this.view,0)}return t.prototype.init=function(e){var n=this;this.cards=e,this.cards.forEach(function(e,i){e.moveTo(n.x,n.y+i*t.marginY,0)}),this.updateInteractive()},t.prototype.push=function(e){e.moveTo(this.x,this.y+this.cards.length*t.marginY),this.cards.push(e),this.updateInteractive()},t.prototype.pop=function(){this.cards.pop(),this.updateInteractive()},t.prototype.clear=function(){this.cards=[]},t.prototype.hit=function(t){return(!this.top||!this.top.isMoving)&&m(this.top?this.top.bounds:this.view.getBounds(),t.bounds)},t.prototype.equalTop=function(t){return null!==this.top&&t===this.top},Object.defineProperty(t.prototype,"top",{get:function(){return this.cards.length>0?this.cards[this.cards.length-1]:null},enumerable:!0,configurable:!0}),t.prototype.updateInteractive=function(){var t=this;this.cards.forEach(function(e){return e.interactive=e===t.top})},t.marginY=27,t}(),x=function(){function t(t,e,n){this.card=null,this.view=f.cell(e,n),t.addChild(this.view)}return t.prototype.push=function(t){this.card=t,this.card.moveTo(this.view.x,this.view.y)},t.prototype.pop=function(){this.card=null},t.prototype.clear=function(){this.pop()},t.prototype.hit=function(t){return m(this.view.getBounds(),t.bounds)},t.prototype.equalTop=function(t){return null!==this.card&&t===this.card},Object.defineProperty(t.prototype,"top",{get:function(){return this.card},enumerable:!0,configurable:!0}),t}(),T=function(){function t(t,e,n,i){this.cards=[],this.view=f.cell(e,n);var o=f.suit(i,.7*this.view.width,s.Color.white);f.centering(o,this.view,-2),this.view.addChild(o),t.addChild(this.view)}return t.prototype.hit=function(t){return m(this.view.getBounds(),t.bounds)},t.prototype.equalTop=function(t){return null!==this.top&&t===this.top},t.prototype.push=function(t){t.moveTo(this.view.x,this.view.y),t.interactive=!1,this.cards.push(t)},t.prototype.pop=function(){this.top&&(this.top.interactive=!0,this.cards.pop())},t.prototype.clear=function(){this.cards=[]},Object.defineProperty(t.prototype,"top",{get:function(){return this.cards.length>0?this.cards[this.cards.length-1]:null},enumerable:!0,configurable:!0}),t}(),P=function(){function t(t,e,n,i,o,r){var s=this;this.cards={},e.forEach(function(e){s.cards[k(e)]=new b(t,e,r)}),this.columns=function(t,e){return w(e).map(function(e,n){return new C(t,30+(f.cardWidth+20)*n,220)})}(t,n);var a=function(t,e){return w(e).map(function(e,n){return new x(t,30+(f.cardWidth+10)*n,100)})}(t,i),u=function(t,e){return e.map(function(e,n){return new T(t,340+(f.cardWidth+10)*n,100,e)})}(t,o);this.stacks=Array().concat(this.columns).concat(a).concat(u)}return Object.defineProperty(t.prototype,"cardViews",{get:function(){var t=this;return Object.keys(this.cards).map(function(e){return t.cards[e]})},enumerable:!0,configurable:!0}),t.prototype.init=function(t){var e=this;this.stacks.forEach(function(t){return t.clear()}),t.forEach(function(t,n){return e.columns[n].init(t.map(function(t){return e.cards[k(t)]}))})},t.prototype.get=function(t){return this.stacks[t]},t.prototype.indexOf=function(t){return this.stacks.indexOf(t)},t.prototype.equalTop=function(t){return this.stacks.filter(function(e){return e.equalTop(t)})[0]},t.prototype.hitAll=function(t){return this.stacks.filter(function(e){return e.hit(t)})},t}();function k(t){return t.suit+t.number.toString()}var S=function(){function t(t){var e=new o.Container;e.x=30,e.y=20,this.undo=M(l.getTexture("undo"),18,{x:-2,y:-1}),e.addChild(this.undo),this.redo=M(l.getTexture("redo"),18,{x:1,y:-1}),this.redo.x=60,e.addChild(this.redo),this.restart=M(l.getTexture("restart"),24,{x:-1,y:0}),this.restart.x=500,e.addChild(this.restart),t.addChild(e)}return t.prototype.onTap=function(t,e){this.toUi(t).on("pointertap",e)},Object.defineProperty(t.prototype,"interactiveAll",{set:function(t){this.undo.interactive=t,this.redo.interactive=t,this.restart.interactive=t},enumerable:!0,configurable:!0}),t.prototype.toUi=function(t){switch(t){case"undo":return this.undo;case"redo":return this.redo;case"restart":return this.restart}},t}();function M(t,e,n){void 0===n&&(n={x:0,y:0});var i=function(t,e){var n=(new o.Graphics).lineStyle(1,s.Color.lightGrey,.8,1).beginFill(e).drawCircle(t,t,t).endFill();return n.interactive=!0,n.buttonMode=!0,n}(20,s.Color.white),r=new o.Sprite(t);return r.width=e,r.height=e,r.tint=s.Color.black,f.centering(r,{width:40,height:40},n.x,n.y),i.addChild(r),i}var E=function(){function t(t,e){this.suit=t,this.number=e}return t.prototype.isDownAndAltColor=function(t){return this.number===t.number+1&&function(t,e){switch(t){case i.Heart:case i.Diamond:return e===i.Club||e===i.Spade;case i.Club:case i.Spade:return e===i.Heart||e===i.Diamond}}(this.suit,t.suit)},t.prototype.isFirst=function(t){return this.suit===t&&1===this.number},t.prototype.isUpAndBothSuit=function(t){return this.number===t.number-1&&this.suit===t.suit},t}(),A=function(){function t(){var t=this,e=[i.Heart,i.Diamond,i.Club,i.Spade],n=[1,2,3,4,5,6,7,8,9,10,11,12,13];this.cards=[],e.forEach(function(e){for(var i=0;i<n.length;i++)t.cards.push(new E(e,n[i]))})}return t.prototype.deal=function(t){var e=function(t){for(var e,n=t.concat(),i=n.length-1;i>=0;i--){var o=Math.floor(Math.random()*(i+1));e=[n[o],n[i]],n[i]=e[0],n[o]=e[1]}return n}(this.cards);return t.map(function(t){return w(t).map(function(t){return e.pop()}).filter(function(t){return void 0!==t})})},t}();var O=function(){function t(){this.onChange=function(){},this.activeNum=0}return Object.defineProperty(t.prototype,"count",{get:function(){return this.activeNum},enumerable:!0,configurable:!0}),t.prototype.add=function(t,e){var n=e*this.activeNum,i=this.addProgress(t,n);return t.start(),{end:i,delay:n}},t.prototype.chain=function(t,e,n,i){var o=i*this.activeNum-n,r=this.addProgress(t,o>=0?o:0);return e.chain(t),{end:r,delay:o}},t.prototype.addProgress=function(t,e){var n=this,i=(new r.Tween).to({},0).onComplete(function(){n.activeNum--,n.onChange()});return t.delay(e).chain(i),this.activeNum++,this.onChange(),i},t}(),j=function(){function t(t){this.pushCondition=t,this.onPush=function(t){},this.onPop=function(){},this.cards=[]}return t.prototype.init=function(t){this.cards=t},t.prototype.canPush=function(t){return this.pushCondition(this.top,t)},t.prototype.push=function(t){t.top&&this.cards.push(t.top),this.onPush(t)},t.prototype.pop=function(){this.cards.pop()&&this.onPop()},t.prototype.clear=function(){this.cards=[]},Object.defineProperty(t.prototype,"top",{get:function(){return this.cards.length>0?this.cards[this.cards.length-1]:null},enumerable:!0,configurable:!0}),t}(),D=function(){function t(t,e,n){var i=function(t,e,n){var i=w(t).map(function(t){return new j(function(t,e){return null===t||t.isDownAndAltColor(e)})}),o=w(e).map(function(t){return new j(function(t){return null===t})}),r=n.map(function(t){var e=new j(function(e,n){return null===e?n.isFirst(t):e.isUpAndBothSuit(n)});return{stack:e,suit:t}});return{columns:i,freeCells:o,homeCells:r}}(t,e,n);this.columns=i.columns,this.freeCells=i.freeCells,this.homeCells=i.homeCells,this.all=this.columns.concat(this.freeCells).concat(this.homeCells.map(function(t){return t.stack}))}return Object.defineProperty(t.prototype,"onPush",{set:function(t){this.all.forEach(function(e){e.onPush=function(n){return t(n,e)}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onPop",{set:function(t){this.all.forEach(function(e){e.onPop=function(){return t(e)}})},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.all.forEach(function(t){return t.clear()})},t.prototype.init=function(t){var e=this;this.clear(),t.forEach(function(t,n){e.columns[n].init(t)})},Object.defineProperty(t.prototype,"isCompleted",{get:function(){return!this.homeCells.map(function(t){return t.stack.top}).some(function(t){return null===t||t.number<13})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoMoveSrc",{get:function(){return this.columns.concat(this.freeCells)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoMoveDest",{get:function(){return this.homeCells},enumerable:!0,configurable:!0}),t.prototype.isfreeMoveSrc=function(t){return this.columns.some(function(e){return e===t})},t.prototype.freeMoveDest=function(t){return 1===t?this.homeCells.map(function(t){return t.stack}):this.freeCells},t.prototype.get=function(t){return this.all[t]},t.prototype.indexOf=function(t){return this.all.indexOf(t)},t}();var I=function(){function t(e){var n=this;this.deck=new A,this.commandManager=new a,this.animManager=new O;var o=[i.Heart,i.Club,i.Diamond,i.Spade];this.stacks=new D(t.columnsLayout.length,4,o),this.stacks.onPush=function(t,e){var i=n.toView(t),o=n.toView(e);i.top&&o.push(i.top)},this.stacks.onPop=function(t){return n.toView(t).pop()},this.stackViews=new P(e,this.deck.cards,t.columnsLayout.length,4,o,this.animManager),this.stackViews.cardViews.forEach(function(t){t.onDragEnd=function(e){return n.cardDragEnd(t,e)},t.onTap=function(){return n.cardTap(t)}}),this.ui=new S(e),this.ui.onTap("undo",function(){return n.commandManager.undo()}),this.ui.onTap("redo",function(){return n.commandManager.redo()}),this.ui.onTap("restart",function(){return n.start()}),this.animManager.onChange=function(){n.ui.interactiveAll=!n.stacks.isCompleted&&0===n.animManager.count}}return t.prototype.start=function(){this.commandManager.clear();var e=this.deck.deal(t.columnsLayout);this.stacks.init(e),this.stackViews.init(e),this.ui.interactiveAll=!0},Object.defineProperty(t.prototype,"isCleared",{get:function(){return this.stacks.isCompleted&&0===this.animManager.count},enumerable:!0,configurable:!0}),t.prototype.cardDragEnd=function(t,e){var n=this,i=this.toStack(this.stackViews.equalTop(t)),o=F(this.stackViews.hitAll(t).map(function(t){return n.toStack(t)}),function(t){return t.canPush(i.top)});o?this.moveCard(i,o):t.moveTo(e.x,e.y)},t.prototype.cardTap=function(t){var e=this.toStack(this.stackViews.equalTop(t));if(this.stacks.isfreeMoveSrc(e)){var n=e.top,i=F(this.stacks.freeMoveDest(n.number),function(t){return t.canPush(n)});i&&this.moveCard(e,i)}},t.prototype.moveCard=function(t,e){this.commandManager.do(new c(t,e,this.stacks.autoMoveSrc,this.stacks.autoMoveDest))},t.prototype.toStack=function(t){return this.stacks.get(this.stackViews.indexOf(t))},t.prototype.toView=function(t){return this.stackViews.get(this.stacks.indexOf(t))},t.columnsLayout=[7,7,7,7,6,6,6,6],t}();function F(t,e){var n=t.filter(e);return n.length>0?n[0]:null}var N=function(){function t(t,e,n){this.onClose=function(){},this.view=(new o.Graphics).beginFill(s.Color.lightGrey,.3).drawRect(0,0,n.width,n.height),this.view.alpha=0,this.view.addChild(e),t.addChild(this.view)}return Object.defineProperty(t.prototype,"onTap",{set:function(t){this.view.on("pointertap",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this.view.alpha>0},enumerable:!0,configurable:!0}),t.prototype.show=function(t){var e=this;void 0===t&&(t=200),this.view.parent.addChild(this.view),new r.Tween(this.view).to({alpha:1},t).onComplete(function(){e.view.interactive=!0}).start()},t.prototype.close=function(t){var e=this;void 0===t&&(t=100),this.view.interactive=!1,new r.Tween(this.view).to({alpha:0},t).onComplete(function(){e.onClose()}).start()},t}();function R(t,e,n){return void 0===n&&(n={}),n.fontSize=t,n.fill=e,n.fontFamily="Times New Roman",n.letterSpacing=1.1,n.dropShadowColor=e,n.dropShadow=!0,n.dropShadowBlur=10,n.dropShadowDistance=0,n.dropShadowAlpha=.5,new o.TextStyle(n)}var V=function(){function t(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=0),this.text=t,this.style=e,this.x=n,this.y=i}return t.concat=function(t){var e=[];t.forEach(function(t,n){var i=new o.Text(t.text,t.style);if(i.x=t.x,i.y=t.y,n>0){var r=e[n-1];i.x+=r.x+r.width}e.push(i)});var n=new o.Container;return n.addChild.apply(n,e),n},t}(),W=function(){function t(t,e){var n=this,i=(new o.Graphics).beginFill(s.Color.yellow,.8).drawRect(0,0,e.width,180).endFill();i.y=f.midY(i,e.height);var r=V.concat([new V("F",R(70,s.Color.red,{fontWeight:"bold"}),0,-12),new V("ree",R(56,s.Color.red),-3),new V("C",R(70,s.Color.black,{fontWeight:"bold"}),2,-11),new V("ell",R(56,s.Color.black))]);f.centering(r,e,0,-20);var a=new o.Text("TAP TO START",R(24,s.Color.grey,{padding:5}));f.centering(a,e,0,50);var u=new o.Container;u.addChild(i),u.addChild(r,a),this.cover=new N(t,u,e),this.cover.onTap=function(){return n.cover.close()}}return t.prototype.show=function(){this.cover.show(0)},Object.defineProperty(t.prototype,"onClose",{set:function(t){this.cover.onClose=t},enumerable:!0,configurable:!0}),t}(),H=function(){function t(t,e){var n=this;this.mainText=V.concat([new V("Cl",R(70,s.Color.red,{fontWeight:"bold"})),new V("ea",R(70,s.Color.yellow)),new V("r!",R(70,s.Color.black,{fontWeight:"bold"}))]),f.centering(this.mainText,e,0,-30),this.tapText=new o.Text("TAP TO RESTART",R(24,s.Color.grey,{padding:5})),f.centering(this.tapText,e,0,50);var i=new o.Container;i.addChild(this.mainText,this.tapText),this.cover=new N(t,i,e),this.cover.onTap=function(){1===n.tapText.alpha&&n.cover.close()}}return t.prototype.show=function(){this.mainText.alpha=0,this.tapText.alpha=0,this.cover.show();this.mainText.y-=5,this.tapText.y-=5;var t=new r.Tween(this.mainText).delay(200).to({alpha:1,y:this.mainText.y+5},500),e=new r.Tween(this.tapText).delay(300).to({alpha:1,y:this.tapText.y+5},200);t.chain(e).start()},Object.defineProperty(t.prototype,"onClose",{set:function(t){this.cover.onClose=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this.cover.visible},enumerable:!0,configurable:!0}),t}(),L=function(){function t(t,e){var n=new o.Text("Loading...",R(48,s.Color.grey,{padding:5}));f.centering(n,e),this.cover=new N(t,n,e)}return t.prototype.show=function(){this.cover.show(0)},t.prototype.close=function(){this.cover.close(0)},t}(),z=function(){function t(t){this.screenSize={width:600,height:800},this.app=new o.Application({width:this.screenSize.width,height:this.screenSize.height,antialias:!0,backgroundColor:11783895,resolution:devicePixelRatio}),t.appendChild(this.app.view)}return t.prototype.start=function(){var t=this;this.app.ticker.add(function(){return r.update()});var e=new L(this.app.stage,this.app.screen);e.show(),l.onComplete.add(function(){e.close(),t.play()}),l.load()},t.prototype.resize=function(t){var e=function(t,e,n){if(t.width>e.width&&t.height>e.height)return{width:n.width,height:n.height};var i=t.width,o=t.width*n.height/n.width;o>t.height&&(i=t.height*n.width/n.height,o=t.height);return{width:i,height:o}}(t,this.app.renderer,this.screenSize);this.app.renderer.view.style.width=e.width+"px",this.app.renderer.view.style.height=e.height+"px"},t.prototype.play=function(){var t=this,e=new I(this.app.stage),n=new H(this.app.stage,this.app.screen);n.onClose=function(){return e.start()};var i=new W(this.app.stage,this.app.screen);i.onClose=function(){e.start(),t.app.ticker.add(function(){e.isCleared&&!n.visible&&n.show()})},i.show()},t}();function G(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}window.addEventListener("DOMContentLoaded",function(){var t=new z(document.body);t.resize(G()),window.addEventListener("resize",function(){return t.resize(G())}),t.start()})},91:function(t,e,n){t.exports=n(193)}},[[91,2,0]]]);